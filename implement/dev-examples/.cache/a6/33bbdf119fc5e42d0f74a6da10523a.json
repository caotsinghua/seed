{"id":"../runtime/component.ts","dependencies":[{"name":"C:\\codes\\seed-source\\seed\\tsconfig.json","includedInParent":true,"mtime":1596458673129},{"name":"C:\\codes\\seed-source\\seed\\implement\\dev-examples\\package.json","includedInParent":true,"mtime":1597756040391},{"name":"./vnode","loc":{"line":3,"column":22},"parent":"C:\\codes\\seed-source\\seed\\implement\\runtime\\component.ts","resolved":"C:\\codes\\seed-source\\seed\\implement\\runtime\\vnode.ts"},{"name":"../seed/createApp","loc":{"line":4,"column":26},"parent":"C:\\codes\\seed-source\\seed\\implement\\runtime\\component.ts","resolved":"C:\\codes\\seed-source\\seed\\implement\\seed\\createApp.ts"},{"name":"../shared/utils","loc":{"line":5,"column":22},"parent":"C:\\codes\\seed-source\\seed\\implement\\runtime\\component.ts","resolved":"C:\\codes\\seed-source\\seed\\implement\\shared\\utils.ts"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar vnode_1 = require(\"./vnode\");\n\nvar createApp_1 = require(\"../seed/createApp\");\n\nvar utils_1 = require(\"../shared/utils\");\n\nvar uid = 0;\n\nfunction createComponentInstance(vnode, parentComponent) {\n  var type = vnode.type;\n  var appContext = (parentComponent ? parentComponent.appContext : vnode.appContext) || createApp_1.createAppContext();\n  var instance = {\n    uid: uid++,\n    type: type,\n    vnode: vnode,\n    subTree: null,\n    parent: parentComponent,\n    root: null,\n    appContext: appContext\n  };\n  instance.root = parentComponent ? parentComponent.root : instance;\n  return instance;\n}\n\nexports.createComponentInstance = createComponentInstance;\n\nfunction setupComponent(instance) {\n  var shapeFlag = instance.vnode.shapeFlag;\n  var isStateful = shapeFlag & vnode_1.ShapeFlags.STATEFUL_COMPONENT; //TODO: init props\n\n  console.warn('初始化props数据，todo'); // setup\n  // 执行setup\n\n  var setupResult = isStateful ? setupStatefulComponent(instance) : undefined;\n  return setupResult;\n}\n\nfunction setupStatefulComponent(instance) {\n  var Component = instance.type; // 创建proxy\n  // 执行setup\n\n  var setup = Component.setup;\n\n  if (setup) {\n    // setup接受2个参数时，创建context\n    var setupContext = instance.setupContext = setup.length > 1 ? {} : null; // 暂停收集依赖\n\n    var setupResult = setup(instance.props, setupContext); // setup执行结束\n\n    if (typeof setupResult === 'function') {\n      // 返回render函数\n      instance.render = setupResult;\n    } else if (utils_1.isObject(setupResult)) {\n      instance.setupState = setupResult;\n    }\n  }\n}"},"sourceMaps":{"js":{"mappings":[{"source":"../runtime/component.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":4}},{"source":"../runtime/component.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":11}},{"source":"../runtime/component.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":14}},{"source":"../runtime/component.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":21}},{"source":"../runtime/component.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":22}},{"source":"../runtime/component.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":31}},{"source":"../runtime/component.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":32}},{"source":"../runtime/component.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":9,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":9,"column":4}},{"source":"../runtime/component.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":9,"column":15}},{"source":"../runtime/component.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":9,"column":18}},{"source":"../runtime/component.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":9,"column":25}},{"source":"../runtime/component.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":9,"column":26}},{"source":"../runtime/component.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":9,"column":45}},{"source":"../runtime/component.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":9,"column":46}},{"source":"../runtime/component.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":11,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":11,"column":4}},{"source":"../runtime/component.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":11,"column":11}},{"source":"../runtime/component.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":11,"column":14}},{"source":"../runtime/component.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":11,"column":21}},{"source":"../runtime/component.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":11,"column":22}},{"source":"../runtime/component.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":11,"column":39}},{"source":"../runtime/component.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":11,"column":40}},{"source":"../runtime/component.ts","name":null,"original":{"line":24,"column":0},"generated":{"line":13,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":24,"column":4},"generated":{"line":13,"column":4}},{"source":"../runtime/component.ts","name":null,"original":{"line":24,"column":7},"generated":{"line":13,"column":7}},{"source":"../runtime/component.ts","name":null,"original":{"line":24,"column":10},"generated":{"line":13,"column":10}},{"source":"../runtime/component.ts","name":null,"original":{"line":24,"column":0},"generated":{"line":13,"column":11}},{"source":"../runtime/component.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":15,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":25,"column":16},"generated":{"line":15,"column":9}},{"source":"../runtime/component.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":15,"column":32}},{"source":"../runtime/component.ts","name":null,"original":{"line":26,"column":2},"generated":{"line":15,"column":33}},{"source":"../runtime/component.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":15,"column":38}},{"source":"../runtime/component.ts","name":null,"original":{"line":27,"column":2},"generated":{"line":15,"column":40}},{"source":"../runtime/component.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":15,"column":55}},{"source":"../runtime/component.ts","name":null,"original":{"line":27,"column":43},"generated":{"line":15,"column":57}},{"source":"../runtime/component.ts","name":null,"original":{"line":29,"column":2},"generated":{"line":16,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":29,"column":8},"generated":{"line":16,"column":6}},{"source":"../runtime/component.ts","name":null,"original":{"line":29,"column":12},"generated":{"line":16,"column":10}},{"source":"../runtime/component.ts","name":null,"original":{"line":29,"column":15},"generated":{"line":16,"column":13}},{"source":"../runtime/component.ts","name":null,"original":{"line":29,"column":20},"generated":{"line":16,"column":18}},{"source":"../runtime/component.ts","name":null,"original":{"line":29,"column":21},"generated":{"line":16,"column":19}},{"source":"../runtime/component.ts","name":null,"original":{"line":29,"column":2},"generated":{"line":16,"column":23}},{"source":"../runtime/component.ts","name":null,"original":{"line":30,"column":2},"generated":{"line":17,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":30,"column":8},"generated":{"line":17,"column":6}},{"source":"../runtime/component.ts","name":null,"original":{"line":30,"column":18},"generated":{"line":17,"column":16}},{"source":"../runtime/component.ts","name":null,"original":{"line":31,"column":4},"generated":{"line":17,"column":19}},{"source":"../runtime/component.ts","name":null,"original":{"line":31,"column":5},"generated":{"line":17,"column":20}},{"source":"../runtime/component.ts","name":null,"original":{"line":31,"column":20},"generated":{"line":17,"column":35}},{"source":"../runtime/component.ts","name":null,"original":{"line":31,"column":23},"generated":{"line":17,"column":38}},{"source":"../runtime/component.ts","name":null,"original":{"line":31,"column":38},"generated":{"line":17,"column":53}},{"source":"../runtime/component.ts","name":null,"original":{"line":31,"column":39},"generated":{"line":17,"column":54}},{"source":"../runtime/component.ts","name":null,"original":{"line":31,"column":20},"generated":{"line":17,"column":64}},{"source":"../runtime/component.ts","name":null,"original":{"line":31,"column":52},"generated":{"line":17,"column":67}},{"source":"../runtime/component.ts","name":null,"original":{"line":31,"column":57},"generated":{"line":17,"column":72}},{"source":"../runtime/component.ts","name":null,"original":{"line":31,"column":58},"generated":{"line":17,"column":73}},{"source":"../runtime/component.ts","name":null,"original":{"line":31,"column":4},"generated":{"line":17,"column":83}},{"source":"../runtime/component.ts","name":null,"original":{"line":32,"column":4},"generated":{"line":17,"column":88}},{"source":"../runtime/component.ts","name":null,"original":{"line":32,"column":4},"generated":{"line":17,"column":99}},{"source":"../runtime/component.ts","name":null,"original":{"line":32,"column":4},"generated":{"line":17,"column":100}},{"source":"../runtime/component.ts","name":null,"original":{"line":32,"column":4},"generated":{"line":17,"column":116}},{"source":"../runtime/component.ts","name":null,"original":{"line":30,"column":2},"generated":{"line":17,"column":118}},{"source":"../runtime/component.ts","name":null,"original":{"line":33,"column":2},"generated":{"line":18,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":33,"column":8},"generated":{"line":18,"column":6}},{"source":"../runtime/component.ts","name":null,"original":{"line":33,"column":16},"generated":{"line":18,"column":14}},{"source":"../runtime/component.ts","name":null,"original":{"line":33,"column":38},"generated":{"line":18,"column":17}},{"source":"../runtime/component.ts","name":null,"original":{"line":34,"column":4},"generated":{"line":19,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":34,"column":4},"generated":{"line":19,"column":4}},{"source":"../runtime/component.ts","name":null,"original":{"line":34,"column":7},"generated":{"line":19,"column":7}},{"source":"../runtime/component.ts","name":null,"original":{"line":34,"column":9},"generated":{"line":19,"column":9}},{"source":"../runtime/component.ts","name":null,"original":{"line":34,"column":12},"generated":{"line":19,"column":12}},{"source":"../runtime/component.ts","name":null,"original":{"line":33,"column":38},"generated":{"line":19,"column":14}},{"source":"../runtime/component.ts","name":null,"original":{"line":35,"column":4},"generated":{"line":20,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":35,"column":4},"generated":{"line":20,"column":4}},{"source":"../runtime/component.ts","name":null,"original":{"line":35,"column":8},"generated":{"line":20,"column":8}},{"source":"../runtime/component.ts","name":null,"original":{"line":35,"column":8},"generated":{"line":20,"column":10}},{"source":"../runtime/component.ts","name":null,"original":{"line":33,"column":38},"generated":{"line":20,"column":14}},{"source":"../runtime/component.ts","name":null,"original":{"line":36,"column":4},"generated":{"line":21,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":36,"column":4},"generated":{"line":21,"column":4}},{"source":"../runtime/component.ts","name":null,"original":{"line":36,"column":9},"generated":{"line":21,"column":9}},{"source":"../runtime/component.ts","name":null,"original":{"line":36,"column":9},"generated":{"line":21,"column":11}},{"source":"../runtime/component.ts","name":null,"original":{"line":33,"column":38},"generated":{"line":21,"column":16}},{"source":"../runtime/component.ts","name":null,"original":{"line":37,"column":4},"generated":{"line":22,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":37,"column":4},"generated":{"line":22,"column":4}},{"source":"../runtime/component.ts","name":null,"original":{"line":37,"column":11},"generated":{"line":22,"column":11}},{"source":"../runtime/component.ts","name":null,"original":{"line":37,"column":13},"generated":{"line":22,"column":13}},{"source":"../runtime/component.ts","name":null,"original":{"line":33,"column":38},"generated":{"line":22,"column":17}},{"source":"../runtime/component.ts","name":null,"original":{"line":38,"column":4},"generated":{"line":23,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":38,"column":4},"generated":{"line":23,"column":4}},{"source":"../runtime/component.ts","name":null,"original":{"line":38,"column":10},"generated":{"line":23,"column":10}},{"source":"../runtime/component.ts","name":null,"original":{"line":38,"column":12},"generated":{"line":23,"column":12}},{"source":"../runtime/component.ts","name":null,"original":{"line":33,"column":38},"generated":{"line":23,"column":27}},{"source":"../runtime/component.ts","name":null,"original":{"line":39,"column":4},"generated":{"line":24,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":39,"column":4},"generated":{"line":24,"column":4}},{"source":"../runtime/component.ts","name":null,"original":{"line":39,"column":8},"generated":{"line":24,"column":8}},{"source":"../runtime/component.ts","name":null,"original":{"line":39,"column":10},"generated":{"line":24,"column":10}},{"source":"../runtime/component.ts","name":null,"original":{"line":33,"column":38},"generated":{"line":24,"column":14}},{"source":"../runtime/component.ts","name":null,"original":{"line":40,"column":4},"generated":{"line":25,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":40,"column":4},"generated":{"line":25,"column":4}},{"source":"../runtime/component.ts","name":null,"original":{"line":40,"column":14},"generated":{"line":25,"column":14}},{"source":"../runtime/component.ts","name":null,"original":{"line":40,"column":14},"generated":{"line":25,"column":16}},{"source":"../runtime/component.ts","name":null,"original":{"line":33,"column":38},"generated":{"line":26,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":33,"column":2},"generated":{"line":26,"column":3}},{"source":"../runtime/component.ts","name":null,"original":{"line":43,"column":2},"generated":{"line":27,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":43,"column":2},"generated":{"line":27,"column":2}},{"source":"../runtime/component.ts","name":null,"original":{"line":43,"column":10},"generated":{"line":27,"column":10}},{"source":"../runtime/component.ts","name":null,"original":{"line":43,"column":11},"generated":{"line":27,"column":11}},{"source":"../runtime/component.ts","name":null,"original":{"line":43,"column":2},"generated":{"line":27,"column":15}},{"source":"../runtime/component.ts","name":null,"original":{"line":43,"column":18},"generated":{"line":27,"column":18}},{"source":"../runtime/component.ts","name":null,"original":{"line":43,"column":33},"generated":{"line":27,"column":33}},{"source":"../runtime/component.ts","name":null,"original":{"line":43,"column":36},"generated":{"line":27,"column":36}},{"source":"../runtime/component.ts","name":null,"original":{"line":43,"column":51},"generated":{"line":27,"column":51}},{"source":"../runtime/component.ts","name":null,"original":{"line":43,"column":52},"generated":{"line":27,"column":52}},{"source":"../runtime/component.ts","name":null,"original":{"line":43,"column":33},"generated":{"line":27,"column":56}},{"source":"../runtime/component.ts","name":null,"original":{"line":43,"column":59},"generated":{"line":27,"column":59}},{"source":"../runtime/component.ts","name":null,"original":{"line":43,"column":2},"generated":{"line":27,"column":67}},{"source":"../runtime/component.ts","name":null,"original":{"line":45,"column":2},"generated":{"line":28,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":45,"column":9},"generated":{"line":28,"column":9}},{"source":"../runtime/component.ts","name":null,"original":{"line":45,"column":2},"generated":{"line":28,"column":17}},{"source":"../runtime/component.ts","name":null,"original":{"line":46,"column":1},"generated":{"line":29,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":31,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":31,"column":7}},{"source":"../runtime/component.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":31,"column":8}},{"source":"../runtime/component.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":31,"column":31}},{"source":"../runtime/component.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":31,"column":34}},{"source":"../runtime/component.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":31,"column":57}},{"source":"../runtime/component.ts","name":null,"original":{"line":48,"column":0},"generated":{"line":33,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":48,"column":9},"generated":{"line":33,"column":9}},{"source":"../runtime/component.ts","name":null,"original":{"line":48,"column":0},"generated":{"line":33,"column":23}},{"source":"../runtime/component.ts","name":null,"original":{"line":48,"column":24},"generated":{"line":33,"column":24}},{"source":"../runtime/component.ts","name":null,"original":{"line":48,"column":0},"generated":{"line":33,"column":32}},{"source":"../runtime/component.ts","name":null,"original":{"line":48,"column":51},"generated":{"line":33,"column":34}},{"source":"../runtime/component.ts","name":null,"original":{"line":49,"column":10},"generated":{"line":34,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":49,"column":10},"generated":{"line":34,"column":6}},{"source":"../runtime/component.ts","name":null,"original":{"line":49,"column":10},"generated":{"line":34,"column":15}},{"source":"../runtime/component.ts","name":null,"original":{"line":49,"column":10},"generated":{"line":34,"column":18}},{"source":"../runtime/component.ts","name":null,"original":{"line":49,"column":10},"generated":{"line":34,"column":26}},{"source":"../runtime/component.ts","name":null,"original":{"line":49,"column":10},"generated":{"line":34,"column":27}},{"source":"../runtime/component.ts","name":null,"original":{"line":49,"column":10},"generated":{"line":34,"column":32}},{"source":"../runtime/component.ts","name":null,"original":{"line":49,"column":10},"generated":{"line":34,"column":33}},{"source":"../runtime/component.ts","name":null,"original":{"line":49,"column":10},"generated":{"line":34,"column":42}},{"source":"../runtime/component.ts","name":null,"original":{"line":50,"column":2},"generated":{"line":35,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":50,"column":8},"generated":{"line":35,"column":6}},{"source":"../runtime/component.ts","name":null,"original":{"line":50,"column":18},"generated":{"line":35,"column":16}},{"source":"../runtime/component.ts","name":null,"original":{"line":50,"column":21},"generated":{"line":35,"column":19}},{"source":"../runtime/component.ts","name":null,"original":{"line":50,"column":30},"generated":{"line":35,"column":28}},{"source":"../runtime/component.ts","name":null,"original":{"line":50,"column":33},"generated":{"line":35,"column":31}},{"source":"../runtime/component.ts","name":null,"original":{"line":50,"column":33},"generated":{"line":35,"column":38}},{"source":"../runtime/component.ts","name":null,"original":{"line":50,"column":33},"generated":{"line":35,"column":39}},{"source":"../runtime/component.ts","name":null,"original":{"line":50,"column":33},"generated":{"line":35,"column":49}},{"source":"../runtime/component.ts","name":null,"original":{"line":50,"column":44},"generated":{"line":35,"column":50}},{"source":"../runtime/component.ts","name":null,"original":{"line":50,"column":2},"generated":{"line":35,"column":68}},{"source":"../runtime/component.ts","name":null,"original":{"line":48,"column":51},"generated":{"line":35,"column":69}},{"source":"../runtime/component.ts","name":null,"original":{"line":51,"column":2},"generated":{"line":35,"column":70}},{"source":"../runtime/component.ts","name":null,"original":{"line":52,"column":2},"generated":{"line":37,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":52,"column":2},"generated":{"line":37,"column":2}},{"source":"../runtime/component.ts","name":null,"original":{"line":52,"column":9},"generated":{"line":37,"column":9}},{"source":"../runtime/component.ts","name":null,"original":{"line":52,"column":10},"generated":{"line":37,"column":10}},{"source":"../runtime/component.ts","name":null,"original":{"line":52,"column":2},"generated":{"line":37,"column":14}},{"source":"../runtime/component.ts","name":null,"original":{"line":52,"column":15},"generated":{"line":37,"column":15}},{"source":"../runtime/component.ts","name":null,"original":{"line":52,"column":2},"generated":{"line":37,"column":32}},{"source":"../runtime/component.ts","name":null,"original":{"line":48,"column":51},"generated":{"line":37,"column":34}},{"source":"../runtime/component.ts","name":null,"original":{"line":54,"column":2},"generated":{"line":37,"column":35}},{"source":"../runtime/component.ts","name":null,"original":{"line":55,"column":2},"generated":{"line":38,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":56,"column":2},"generated":{"line":40,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":56,"column":8},"generated":{"line":40,"column":6}},{"source":"../runtime/component.ts","name":null,"original":{"line":56,"column":19},"generated":{"line":40,"column":17}},{"source":"../runtime/component.ts","name":null,"original":{"line":56,"column":22},"generated":{"line":40,"column":20}},{"source":"../runtime/component.ts","name":null,"original":{"line":56,"column":32},"generated":{"line":40,"column":30}},{"source":"../runtime/component.ts","name":null,"original":{"line":56,"column":35},"generated":{"line":40,"column":33}},{"source":"../runtime/component.ts","name":null,"original":{"line":56,"column":57},"generated":{"line":40,"column":55}},{"source":"../runtime/component.ts","name":null,"original":{"line":56,"column":58},"generated":{"line":40,"column":56}},{"source":"../runtime/component.ts","name":null,"original":{"line":56,"column":57},"generated":{"line":40,"column":64}},{"source":"../runtime/component.ts","name":null,"original":{"line":56,"column":32},"generated":{"line":40,"column":65}},{"source":"../runtime/component.ts","name":null,"original":{"line":56,"column":70},"generated":{"line":40,"column":68}},{"source":"../runtime/component.ts","name":null,"original":{"line":56,"column":2},"generated":{"line":40,"column":77}},{"source":"../runtime/component.ts","name":null,"original":{"line":57,"column":2},"generated":{"line":41,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":57,"column":9},"generated":{"line":41,"column":9}},{"source":"../runtime/component.ts","name":null,"original":{"line":57,"column":2},"generated":{"line":41,"column":20}},{"source":"../runtime/component.ts","name":null,"original":{"line":58,"column":1},"generated":{"line":42,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":60,"column":0},"generated":{"line":44,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":60,"column":9},"generated":{"line":44,"column":9}},{"source":"../runtime/component.ts","name":null,"original":{"line":60,"column":0},"generated":{"line":44,"column":31}},{"source":"../runtime/component.ts","name":null,"original":{"line":60,"column":32},"generated":{"line":44,"column":32}},{"source":"../runtime/component.ts","name":null,"original":{"line":60,"column":0},"generated":{"line":44,"column":40}},{"source":"../runtime/component.ts","name":null,"original":{"line":60,"column":59},"generated":{"line":44,"column":42}},{"source":"../runtime/component.ts","name":null,"original":{"line":61,"column":2},"generated":{"line":45,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":61,"column":8},"generated":{"line":45,"column":6}},{"source":"../runtime/component.ts","name":null,"original":{"line":61,"column":17},"generated":{"line":45,"column":15}},{"source":"../runtime/component.ts","name":null,"original":{"line":61,"column":20},"generated":{"line":45,"column":18}},{"source":"../runtime/component.ts","name":null,"original":{"line":61,"column":28},"generated":{"line":45,"column":26}},{"source":"../runtime/component.ts","name":null,"original":{"line":61,"column":29},"generated":{"line":45,"column":27}},{"source":"../runtime/component.ts","name":null,"original":{"line":61,"column":2},"generated":{"line":45,"column":31}},{"source":"../runtime/component.ts","name":null,"original":{"line":60,"column":59},"generated":{"line":45,"column":32}},{"source":"../runtime/component.ts","name":null,"original":{"line":63,"column":2},"generated":{"line":45,"column":33}},{"source":"../runtime/component.ts","name":null,"original":{"line":65,"column":2},"generated":{"line":46,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":66,"column":10},"generated":{"line":48,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":66,"column":10},"generated":{"line":48,"column":6}},{"source":"../runtime/component.ts","name":null,"original":{"line":66,"column":10},"generated":{"line":48,"column":11}},{"source":"../runtime/component.ts","name":null,"original":{"line":66,"column":10},"generated":{"line":48,"column":14}},{"source":"../runtime/component.ts","name":null,"original":{"line":66,"column":10},"generated":{"line":48,"column":23}},{"source":"../runtime/component.ts","name":null,"original":{"line":66,"column":10},"generated":{"line":48,"column":24}},{"source":"../runtime/component.ts","name":null,"original":{"line":66,"column":10},"generated":{"line":48,"column":29}},{"source":"../runtime/component.ts","name":null,"original":{"line":67,"column":2},"generated":{"line":50,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":67,"column":6},"generated":{"line":50,"column":6}},{"source":"../runtime/component.ts","name":null,"original":{"line":67,"column":2},"generated":{"line":50,"column":11}},{"source":"../runtime/component.ts","name":null,"original":{"line":67,"column":13},"generated":{"line":50,"column":13}},{"source":"../runtime/component.ts","name":null,"original":{"line":68,"column":4},"generated":{"line":51,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":69,"column":4},"generated":{"line":52,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":69,"column":10},"generated":{"line":52,"column":8}},{"source":"../runtime/component.ts","name":null,"original":{"line":69,"column":22},"generated":{"line":52,"column":20}},{"source":"../runtime/component.ts","name":null,"original":{"line":69,"column":26},"generated":{"line":52,"column":23}},{"source":"../runtime/component.ts","name":null,"original":{"line":69,"column":34},"generated":{"line":52,"column":31}},{"source":"../runtime/component.ts","name":null,"original":{"line":69,"column":35},"generated":{"line":52,"column":32}},{"source":"../runtime/component.ts","name":null,"original":{"line":69,"column":26},"generated":{"line":52,"column":44}},{"source":"../runtime/component.ts","name":null,"original":{"line":69,"column":50},"generated":{"line":52,"column":47}},{"source":"../runtime/component.ts","name":null,"original":{"line":69,"column":55},"generated":{"line":52,"column":52}},{"source":"../runtime/component.ts","name":null,"original":{"line":69,"column":56},"generated":{"line":52,"column":53}},{"source":"../runtime/component.ts","name":null,"original":{"line":69,"column":50},"generated":{"line":52,"column":59}},{"source":"../runtime/component.ts","name":null,"original":{"line":69,"column":65},"generated":{"line":52,"column":62}},{"source":"../runtime/component.ts","name":null,"original":{"line":69,"column":50},"generated":{"line":52,"column":63}},{"source":"../runtime/component.ts","name":null,"original":{"line":69,"column":69},"generated":{"line":52,"column":66}},{"source":"../runtime/component.ts","name":null,"original":{"line":69,"column":50},"generated":{"line":52,"column":68}},{"source":"../runtime/component.ts","name":null,"original":{"line":69,"column":74},"generated":{"line":52,"column":71}},{"source":"../runtime/component.ts","name":null,"original":{"line":69,"column":4},"generated":{"line":52,"column":75}},{"source":"../runtime/component.ts","name":null,"original":{"line":67,"column":13},"generated":{"line":52,"column":76}},{"source":"../runtime/component.ts","name":null,"original":{"line":70,"column":4},"generated":{"line":52,"column":77}},{"source":"../runtime/component.ts","name":null,"original":{"line":71,"column":4},"generated":{"line":54,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":71,"column":10},"generated":{"line":54,"column":8}},{"source":"../runtime/component.ts","name":null,"original":{"line":71,"column":21},"generated":{"line":54,"column":19}},{"source":"../runtime/component.ts","name":null,"original":{"line":71,"column":24},"generated":{"line":54,"column":22}},{"source":"../runtime/component.ts","name":null,"original":{"line":71,"column":29},"generated":{"line":54,"column":27}},{"source":"../runtime/component.ts","name":null,"original":{"line":71,"column":30},"generated":{"line":54,"column":28}},{"source":"../runtime/component.ts","name":null,"original":{"line":71,"column":38},"generated":{"line":54,"column":36}},{"source":"../runtime/component.ts","name":null,"original":{"line":71,"column":39},"generated":{"line":54,"column":37}},{"source":"../runtime/component.ts","name":null,"original":{"line":71,"column":29},"generated":{"line":54,"column":42}},{"source":"../runtime/component.ts","name":null,"original":{"line":71,"column":46},"generated":{"line":54,"column":44}},{"source":"../runtime/component.ts","name":null,"original":{"line":71,"column":29},"generated":{"line":54,"column":56}},{"source":"../runtime/component.ts","name":null,"original":{"line":71,"column":4},"generated":{"line":54,"column":57}},{"source":"../runtime/component.ts","name":null,"original":{"line":67,"column":13},"generated":{"line":54,"column":58}},{"source":"../runtime/component.ts","name":null,"original":{"line":72,"column":4},"generated":{"line":54,"column":59}},{"source":"../runtime/component.ts","name":null,"original":{"line":74,"column":4},"generated":{"line":56,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":74,"column":8},"generated":{"line":56,"column":8}},{"source":"../runtime/component.ts","name":null,"original":{"line":74,"column":15},"generated":{"line":56,"column":15}},{"source":"../runtime/component.ts","name":null,"original":{"line":74,"column":8},"generated":{"line":56,"column":26}},{"source":"../runtime/component.ts","name":null,"original":{"line":74,"column":31},"generated":{"line":56,"column":31}},{"source":"../runtime/component.ts","name":null,"original":{"line":74,"column":4},"generated":{"line":56,"column":41}},{"source":"../runtime/component.ts","name":null,"original":{"line":74,"column":43},"generated":{"line":56,"column":43}},{"source":"../runtime/component.ts","name":null,"original":{"line":75,"column":6},"generated":{"line":57,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":76,"column":6},"generated":{"line":58,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":76,"column":6},"generated":{"line":58,"column":6}},{"source":"../runtime/component.ts","name":null,"original":{"line":76,"column":14},"generated":{"line":58,"column":14}},{"source":"../runtime/component.ts","name":null,"original":{"line":76,"column":15},"generated":{"line":58,"column":15}},{"source":"../runtime/component.ts","name":null,"original":{"line":76,"column":6},"generated":{"line":58,"column":21}},{"source":"../runtime/component.ts","name":null,"original":{"line":76,"column":24},"generated":{"line":58,"column":24}},{"source":"../runtime/component.ts","name":null,"original":{"line":76,"column":6},"generated":{"line":58,"column":35}},{"source":"../runtime/component.ts","name":null,"original":{"line":77,"column":5},"generated":{"line":59,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":74,"column":4},"generated":{"line":59,"column":5}},{"source":"../runtime/component.ts","name":null,"original":{"line":77,"column":11},"generated":{"line":59,"column":11}},{"source":"../runtime/component.ts","name":null,"original":{"line":77,"column":15},"generated":{"line":59,"column":15}},{"source":"../runtime/component.ts","name":null,"original":{"line":77,"column":15},"generated":{"line":59,"column":22}},{"source":"../runtime/component.ts","name":null,"original":{"line":77,"column":15},"generated":{"line":59,"column":23}},{"source":"../runtime/component.ts","name":null,"original":{"line":77,"column":15},"generated":{"line":59,"column":31}},{"source":"../runtime/component.ts","name":null,"original":{"line":77,"column":24},"generated":{"line":59,"column":32}},{"source":"../runtime/component.ts","name":null,"original":{"line":77,"column":15},"generated":{"line":59,"column":43}},{"source":"../runtime/component.ts","name":null,"original":{"line":77,"column":11},"generated":{"line":59,"column":44}},{"source":"../runtime/component.ts","name":null,"original":{"line":77,"column":38},"generated":{"line":59,"column":46}},{"source":"../runtime/component.ts","name":null,"original":{"line":78,"column":6},"generated":{"line":60,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":78,"column":6},"generated":{"line":60,"column":6}},{"source":"../runtime/component.ts","name":null,"original":{"line":78,"column":14},"generated":{"line":60,"column":14}},{"source":"../runtime/component.ts","name":null,"original":{"line":78,"column":15},"generated":{"line":60,"column":15}},{"source":"../runtime/component.ts","name":null,"original":{"line":78,"column":6},"generated":{"line":60,"column":25}},{"source":"../runtime/component.ts","name":null,"original":{"line":78,"column":28},"generated":{"line":60,"column":28}},{"source":"../runtime/component.ts","name":null,"original":{"line":78,"column":6},"generated":{"line":60,"column":39}},{"source":"../runtime/component.ts","name":null,"original":{"line":79,"column":5},"generated":{"line":61,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":80,"column":3},"generated":{"line":62,"column":0}},{"source":"../runtime/component.ts","name":null,"original":{"line":81,"column":1},"generated":{"line":63,"column":0}}],"sources":{"../runtime/component.ts":"import { VNode, ShapeFlags } from './vnode'\r\nimport { createAppContext, AppContext } from '../seed/createApp'\r\nimport { isObject } from '../shared/utils'\r\n\r\nexport interface Component {}\r\n\r\nexport interface Data {\r\n  [key: string]: any\r\n}\r\nexport interface ComponentOptions {\r\n  setup(this: void, props: Data): Record<string, any> | Function\r\n}\r\n\r\nexport interface ComponentInstance {\r\n  uid: number\r\n  vnode: VNode | null\r\n  subTree: VNode | null // 组件render的node\r\n  parent: ComponentInstance | null\r\n  type: ComponentOptions\r\n  root: ComponentInstance | null\r\n  appContext: AppContext | null\r\n}\r\n\r\nlet uid = 0\r\nexport function createComponentInstance(\r\n  vnode: VNode,\r\n  parentComponent: ComponentInstance | null\r\n): ComponentInstance {\r\n  const type = vnode.type as ComponentOptions\r\n  const appContext =\r\n    (parentComponent ? parentComponent.appContext : vnode.appContext) ||\r\n    createAppContext()\r\n  const instance: ComponentInstance = {\r\n    uid: uid++,\r\n    type,\r\n    vnode,\r\n    subTree: null,\r\n    parent: parentComponent,\r\n    root: null,\r\n    appContext,\r\n  }\r\n\r\n  instance.root = parentComponent ? parentComponent.root : instance\r\n\r\n  return instance\r\n}\r\n\r\nfunction setupComponent(instance: ComponentInstance) {\r\n  const { shapeFlag } = instance.vnode\r\n  const isStateful = shapeFlag & ShapeFlags.STATEFUL_COMPONENT\r\n  //TODO: init props\r\n  console.warn('初始化props数据，todo')\r\n\r\n  // setup\r\n  // 执行setup\r\n  const setupResult = isStateful ? setupStatefulComponent(instance) : undefined\r\n  return setupResult\r\n}\r\n\r\nfunction setupStatefulComponent(instance: ComponentInstance) {\r\n  const Component = instance.type\r\n\r\n  // 创建proxy\r\n\r\n  // 执行setup\r\n  const { setup } = Component\r\n  if (setup) {\r\n    // setup接受2个参数时，创建context\r\n    const setupContext = (instance.setupContext = setup.length > 1 ? {} : null)\r\n    // 暂停收集依赖\r\n    const setupResult = setup(instance.props, setupContext)\r\n    // setup执行结束\r\n    \r\n    if (typeof setupResult === 'function') {\r\n      // 返回render函数\r\n      instance.render = setupResult\r\n    } else if (isObject(setupResult)) {\r\n      instance.setupState = setupResult\r\n    }\r\n  }\r\n}\r\n"},"lineCount":null}},"error":null,"hash":"9cff824cfd5a571813c71d43adb342cd","cacheData":{"env":{}}}